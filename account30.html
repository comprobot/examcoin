<html>
<head>
<title> polkadot function </title>
<script src="http://157.230.145.40/dapp/temp/edgewaredo.js"></script>
</head>
<body>
<script>
var global = {
    balances: [],
    address: '',
    pointCount: 200,
    blockHashes: [],
    endpoint: '',
    chainDecimals: '',
    chainToken: 'Units',
    layout: {},
};    
    
    
    
function connect() {
    let endpoint = 'wss://mainnet1.edgewa.re/';
    if (!window.substrate || global.endpoint != endpoint) {
        
        const provider = new api.WsProvider(endpoint);
        document.getElementById('output').innerHTML = 'Connecting to Endpoint... edgeware';
        window.substrate = api.ApiPromise.create({ provider });
        global.endpoint = endpoint;
        // Retrieve the chain & node information information via rpc calls
        
        
        document.getElementById('output').innerHTML = 'Connected';
        alert(api.query.balances.freeBalance("hhWb3maNpMm2hprDkw3ZXQ7nKp9UsSmKG7qXrDUuLnKGVkZ"));
        //alert(window.substrate);
        
    }
}
function getbalance()
{
    let balance = window.substrate.query.balances.freeBalance("hhWb3maNpMm2hprDkw3ZXQ7nKp9UsSmKG7qXrDUuLnKGVkZ");
    
    
    
    //let balance = window.substrate.query.system.account.at("hhWb3maNpMm2hprDkw3ZXQ7nKp9UsSmKG7qXrDUuLnKGVkZ");
    //let balance = window.substrate.query.balances.freeBalance.at("hhWb3maNpMm2hprDkw3ZXQ7nKp9UsSmKG7qXrDUuLnKGVkZ");
    
    //alert("timenow : "+timestamp);
    //alert("substrate object:"+window.substrate);
    //alert("substrate object:"+window.substrate.toString());
    
    
    
    
    //const balance = api.query.balances.freeBalance(hhWb3maNpMm2hprDkw3ZXQ7nKp9UsSmKG7qXrDUuLnKGVkZ);
    alert(balance);
    
}
    
</script>
<p> testing to polkadot </p>
<div id="output"></div>
 <script>
      connect();      
 </script>
<button onclick="getbalance()">Check account balance</button>    
</body>
</html>

