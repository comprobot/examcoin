<html>
<head>
<title> polkadot function </title>
<script src="http://157.230.145.40/dapp/temp/edgewaredo.js"></script>
</head>
<body>
<script>
var global = {
    balances: [],
    address: '',
    pointCount: 200,
    blockHashes: [],
    endpoint: '',
    chainDecimals: '',
    chainToken: 'Units',
    layout: {},
};    
function connect() {
    let endpoint = 'wss://mainnet1.edgewa.re/';
    if (!window.substrate || global.endpoint != endpoint) {
        
        const provider = new api.WsProvider(endpoint);
        document.getElementById('output').innerHTML = 'Connecting to Endpoint... edgeware';
        alert("---start---");
        window.substrate = await api.ApiPromise.create({ provider });
        alert("---start---1");
        global.endpoint = endpoint;
        alert("---start---2");
        document.getElementById('output').innerHTML = 'Connected';
        alert("---start---3");
    }
}
function getbalance()
{
    let balance = await substrate.query.balances.freeBalance("hhWb3maNpMm2hprDkw3ZXQ7nKp9UsSmKG7qXrDUuLnKGVkZ")
    alert(balance.toNumber());
    
}
    
window.onload = async function () {
    await connect();
    getbalance();
    
}
</script>
<p> testing to polkadot </p>
<div id="output"></div>
 <script>
     connect();
     getbalance();
 </script>
</body>
</html>

